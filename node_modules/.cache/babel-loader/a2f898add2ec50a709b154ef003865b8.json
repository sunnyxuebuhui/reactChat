{"ast":null,"code":"import \"antd-mobile/lib/modal/style/css\";\nimport _Modal from \"antd-mobile/lib/modal\";\nimport \"antd-mobile/lib/white-space/style/css\";\nimport _WhiteSpace from \"antd-mobile/lib/white-space\";\nimport \"antd-mobile/lib/result/style/css\";\nimport _Result from \"antd-mobile/lib/result\";\nimport \"antd-mobile/lib/list/style/css\";\nimport _List from \"antd-mobile/lib/list\";\nimport _classCallCheck from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/chenyiquan/React/reactChat/src/components/user/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport browserCookie from 'browser-cookies';\nimport { actionCreators } from '../../views/login/store';\nimport PropTypes from 'prop-types';\n\nvar User =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(User, _Component);\n\n  function User(props) {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(User).call(this, props));\n    _this.logout = _this.logout.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          avatar = _this$props.avatar,\n          user = _this$props.user,\n          userType = _this$props.userType,\n          company = _this$props.company,\n          title = _this$props.title,\n          desc = _this$props.desc,\n          money = _this$props.money;\n      var Item = _List.Item;\n      var Brief = Item.Brief;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(_Result, {\n        img: React.createElement(\"img\", {\n          src: require(\"../../statics/\".concat(avatar, \".png\")),\n          style: {\n            width: 56\n          },\n          alt: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        }),\n        title: user,\n        message: userType === 'BOSS' ? company : null,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }), React.createElement(_List, {\n        renderHeader: function renderHeader() {\n          return '简介';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(Item, {\n        multipleLine: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }, title, desc ? desc.split('\\n').map(function (v) {\n        return React.createElement(Brief, {\n          key: v,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, v);\n      }) : null, money ? React.createElement(Brief, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, \"\\u85AA\\u8D44\\uFF1A\", money) : null)), React.createElement(_WhiteSpace, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(_WhiteSpace, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(_List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Item, {\n        onClick: this.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, \"\\u9000\\u51FA\\u767B\\u5F55\")));\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      var _this2 = this;\n\n      var Alert = _Modal.alert;\n      Alert('注销', '确认退出登录吗？', [{\n        text: '取消'\n      }, {\n        text: '确认',\n        onPress: function onPress() {\n          browserCookie.erase('userId');\n\n          _this2.context.router.history.push('/login');\n\n          window.location.href = 'http://localhost:3000/login';\n        }\n      }]);\n    }\n  }]);\n\n  return User;\n}(Component);\n\nUser.contextTypes = {\n  router: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.getIn(['login']).user,\n    userType: state.getIn(['login']).userType,\n    avatar: state.getIn(['login']).avatar,\n    title: state.getIn(['login']).title,\n    company: state.getIn(['login']).company,\n    desc: state.getIn(['login']).desc,\n    money: state.getIn(['login']).money\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logoutSubmit: function logoutSubmit() {\n      dispatch(actionCreators.getLogin());\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(User));","map":{"version":3,"sources":["/Users/chenyiquan/React/reactChat/src/components/user/index.js"],"names":["React","Component","connect","withRouter","browserCookie","actionCreators","PropTypes","User","props","logout","bind","avatar","user","userType","company","title","desc","money","Item","Brief","require","width","split","map","v","Alert","alert","text","onPress","erase","context","router","history","push","window","location","href","contextTypes","object","isRequired","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","logoutSubmit","getLogin"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;;IAGMC,I;;;;;AAIJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,uDAAd;AAFiB;AAGlB;;;;6BAEQ;AAAA,wBACyD,KAAKF,KAD9D;AAAA,UACCG,MADD,eACCA,MADD;AAAA,UACSC,IADT,eACSA,IADT;AAAA,UACeC,QADf,eACeA,QADf;AAAA,UACyBC,OADzB,eACyBA,OADzB;AAAA,UACkCC,KADlC,eACkCA,KADlC;AAAA,UACyCC,IADzC,eACyCA,IADzC;AAAA,UAC+CC,KAD/C,eAC+CA,KAD/C;AAEP,UAAMC,IAAI,GAAG,MAAKA,IAAlB;AACA,UAAMC,KAAK,GAAGD,IAAI,CAACC,KAAnB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,GAAG,EAAE;AAAK,UAAA,GAAG,EAAEC,OAAO,yBAAkBT,MAAlB,UAAjB;AAAmD,UAAA,KAAK,EAAE;AAACU,YAAAA,KAAK,EAAE;AAAR,WAA1D;AAAuE,UAAA,GAAG,EAAC,EAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADP;AAEE,QAAA,KAAK,EAAET,IAFT;AAGE,QAAA,OAAO,EAAEC,QAAQ,KAAK,MAAb,GAAsBC,OAAtB,GAAgC,IAH3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAME;AAAM,QAAA,YAAY,EAAE;AAAA,iBAAM,IAAN;AAAA,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,YAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,KADH,EAEGC,IAAI,GAAGA,IAAI,CAACM,KAAL,CAAW,IAAX,EAAiBC,GAAjB,CAAqB,UAAAC,CAAC;AAAA,eAAI,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAEA,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgBA,CAAhB,CAAJ;AAAA,OAAtB,CAAH,GAA2D,IAFlE,EAGGP,KAAK,GAAG,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAWA,KAAX,CAAH,GAA+B,IAHvC,CADF,CANF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAE,KAAKR,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,CAfF,CADF;AAqBD;;;6BAEQ;AAAA;;AACP,UAAMgB,KAAK,GAAG,OAAMC,KAApB;AACAD,MAAAA,KAAK,CAAC,IAAD,EAAO,UAAP,EAAmB,CACtB;AAACE,QAAAA,IAAI,EAAE;AAAP,OADsB,EAEtB;AAACA,QAAAA,IAAI,EAAE,IAAP;AAAaC,QAAAA,OAAO,EAAE,mBAAM;AAC1BxB,UAAAA,aAAa,CAACyB,KAAd,CAAoB,QAApB;;AACA,UAAA,MAAI,CAACC,OAAL,CAAaC,MAAb,CAAoBC,OAApB,CAA4BC,IAA5B,CAAiC,QAAjC;;AACAC,UAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,6BAAvB;AACD;AAJD,OAFsB,CAAnB,CAAL;AAQD;;;;EA9CgBnC,S;;AAAbM,I,CACG8B,Y,GAAe;AACpBN,EAAAA,MAAM,EAAEzB,SAAS,CAACgC,MAAV,CAAiBC;AADL,C;;AAkDxB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AACL7B,IAAAA,IAAI,EAAE6B,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuB9B,IADxB;AAELC,IAAAA,QAAQ,EAAE4B,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuB7B,QAF5B;AAGLF,IAAAA,MAAM,EAAE8B,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuB/B,MAH1B;AAILI,IAAAA,KAAK,EAAE0B,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuB3B,KAJzB;AAKLD,IAAAA,OAAO,EAAE2B,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuB5B,OAL3B;AAMLE,IAAAA,IAAI,EAAEyB,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuB1B,IANxB;AAOLC,IAAAA,KAAK,EAAEwB,KAAK,CAACC,KAAN,CAAY,CAAC,OAAD,CAAZ,EAAuBzB;AAPzB,GAAP;AASD,CAVD;;AAaA,IAAM0B,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACLC,IAAAA,YADK,0BACU;AACbD,MAAAA,QAAQ,CAACvC,cAAc,CAACyC,QAAf,EAAD,CAAR;AACD;AAHI,GAAP;AAKD,CAND;;AAQA,eAAe3C,UAAU,CAACD,OAAO,CAACsC,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CpC,IAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { Result, List, WhiteSpace, Modal } from \"antd-mobile\"\nimport browserCookie from 'browser-cookies'\nimport { actionCreators } from '../../views/login/store'\nimport PropTypes from 'prop-types'\n\n\nclass User extends Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n  }\n  constructor(props) {\n    super(props)\n    this.logout = this.logout.bind(this)\n  }\n\n  render() {\n    const { avatar, user, userType, company, title, desc, money } = this.props\n    const Item = List.Item\n    const Brief = Item.Brief\n    return (\n      <div>\n        <Result\n          img={<img src={require(`../../statics/${avatar}.png`)}  style={{width: 56}} alt=\"\"/>}\n          title={user}\n          message={userType === 'BOSS' ? company : null}\n        />\n        <List renderHeader={() => '简介'}>\n          <Item multipleLine>\n            {title}\n            {desc ? desc.split('\\n').map(v => <Brief key={v}>{v}</Brief>) : null}\n            {money ? <Brief>薪资：{money}</Brief> : null}\n          </Item>\n        </List>\n        <WhiteSpace></WhiteSpace>\n        <WhiteSpace></WhiteSpace>\n        <List>\n          <Item onClick={this.logout}>退出登录</Item>\n        </List>\n      </div>\n    )\n  }\n\n  logout() {\n    const Alert = Modal.alert\n    Alert('注销', '确认退出登录吗？', [\n      {text: '取消',},\n      {text: '确认', onPress: () => {\n        browserCookie.erase('userId');\n        this.context.router.history.push('/login');\n        window.location.href = 'http://localhost:3000/login'\n      }}\n    ])\n  }\n\n}\n\n\nconst mapStateToProps = (state) => {\n  return {\n    user: state.getIn(['login']).user,\n    userType: state.getIn(['login']).userType,\n    avatar: state.getIn(['login']).avatar,\n    title: state.getIn(['login']).title,\n    company: state.getIn(['login']).company,\n    desc: state.getIn(['login']).desc,\n    money: state.getIn(['login']).money\n  }\n}\n\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logoutSubmit() {\n      dispatch(actionCreators.getLogin())\n    }\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(User))\n\n"]},"metadata":{},"sourceType":"module"}