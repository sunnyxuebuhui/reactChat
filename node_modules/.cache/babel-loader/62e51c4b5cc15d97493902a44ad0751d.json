{"ast":null,"code":"import \"antd-mobile/lib/nav-bar/style/css\";\nimport _NavBar from \"antd-mobile/lib/nav-bar\";\nimport \"antd-mobile/lib/icon/style/css\";\nimport _Icon from \"antd-mobile/lib/icon\";\nimport \"antd-mobile/lib/list/style/css\";\nimport _List from \"antd-mobile/lib/list\";\nimport _classCallCheck from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chenyiquan/React/reactChat/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/chenyiquan/React/reactChat/src/components/chat/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { actionCreators } from './store';\nimport { getChatId } from \"../../libs/utils\";\nimport QueueAnim from 'rc-queue-anim';\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat(props) {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chat).call(this, props));\n    _this.state = {\n      text: '',\n      msg: []\n    };\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var emoji = 'ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ˜Š ğŸ˜‡ ğŸ™‚ ğŸ™ƒ ğŸ˜‰ ğŸ˜Œ ğŸ˜ ğŸ˜˜ ğŸ˜— ğŸ˜™ ğŸ˜š ğŸ˜‹ ğŸ˜œ ğŸ˜ ğŸ˜› ğŸ¤‘ ğŸ¤— ğŸ¤“ ğŸ˜ ğŸ˜ ğŸ˜’ ğŸ˜ ğŸ˜” ğŸ˜Ÿ ğŸ˜• ğŸ™ ğŸ˜£ ğŸ˜– ğŸ˜« ğŸ˜© ğŸ˜¤ ğŸ˜  ğŸ˜¡ ğŸ˜¶ ğŸ˜ ğŸ˜‘ ğŸ˜¯ ğŸ˜¦ ğŸ˜§ ğŸ˜® ğŸ˜² ğŸ˜µ ğŸ˜³ ğŸ˜± ğŸ˜¨ ğŸ˜° ğŸ˜¢ ğŸ˜¥ ğŸ˜­ ğŸ˜“ ğŸ˜ª ğŸ˜´ ğŸ™„ ğŸ¤” ğŸ˜¬ ğŸ¤ ğŸ˜· ğŸ¤’ ğŸ¤• ğŸ˜ˆ ğŸ‘¿ ğŸ‘¹ ğŸ‘º ğŸ’© ğŸ‘» ğŸ’€ â˜ ï¸ ğŸ‘½ ğŸ‘¾ ğŸ¤– ğŸƒ ğŸ˜º ğŸ˜¸ ğŸ˜¹ ğŸ˜» ğŸ˜¼ ğŸ˜½ ğŸ™€ ğŸ˜¿ ğŸ˜¾ ğŸ‘ ğŸ™Œ ğŸ‘ ğŸ™ ğŸ‘ ğŸ‘ ğŸ‘Š âœŠ ğŸ¤˜ ğŸ‘Œ ğŸ‘ˆ ğŸ‘‰ ğŸ‘† ğŸ‘‡ âœ‹  ğŸ– ğŸ–– ğŸ‘‹  ğŸ’ª ğŸ–• âœï¸  ğŸ’… ğŸ–– ğŸ’„ ğŸ’‹ ğŸ‘„ ğŸ‘… ğŸ‘‚ ğŸ‘ƒ ğŸ‘ ğŸ‘€ '.split(' ').filter(function (v) {\n        return v;\n      }).map(function (v) {\n        return {\n          text: v\n        };\n      });\n      var userid = this.props.match.params.user;\n      var Item = _List.Item;\n      var users = this.props.chat.users;\n      if (!users[userid]) return null;\n      var chatid = getChatId(userid, this.props.user._id);\n      var chatmsgs = this.props.chat.chatmsg.filter(function (v) {\n        return v.chatid == chatid;\n      });\n      return React.createElement(\"div\", {\n        id: \"chat-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(_NavBar, {\n        mode: \"dark\",\n        icon: React.createElement(_Icon, {\n          type: \"left\",\n          onLeftClick: function onLeftClick() {\n            _this2.props.history.goBack();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, users[userid].name), React.createElement(QueueAnim, {\n        delay: 50,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, chatmsgs.map(function (v) {\n        var avatar = require(\"../../statics/\".concat(users[v.from].avatar, \".png\"));\n\n        return v.from === userid ? React.createElement(_List, {\n          key: v._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(Item, {\n          thumb: avatar,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, v.content)) : React.createElement(\"list\", {\n          key: v._id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(Item, {\n          extra: React.createElement(\"img\", {\n            alt: \"\\u5934\\u50CF\",\n            src: avatar,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }),\n          className: \"chat-me\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, v.content));\n      })));\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nexport default Chat;","map":{"version":3,"sources":["/Users/chenyiquan/React/reactChat/src/components/chat/index.js"],"names":["React","Component","connect","actionCreators","getChatId","QueueAnim","Chat","props","state","text","msg","emoji","split","filter","v","map","userid","match","params","user","Item","users","chat","chatid","_id","chatmsgs","chatmsg","history","goBack","name","avatar","require","from","content"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport { List, InputItem, NavBar, Icon, Grid } from \"antd-mobile\"\nimport { connect } from 'react-redux'\nimport { actionCreators } from './store'\nimport { getChatId } from \"../../libs/utils\"\nimport QueueAnim from 'rc-queue-anim'\n\nclass  Chat extends Component{\n  constructor(props) {\n    super(props)\n    this.state = {\n      text: '',\n      msg: []\n    }\n  }\n\n\n  render() {\n    const emoji = 'ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ˜Š ğŸ˜‡ ğŸ™‚ ğŸ™ƒ ğŸ˜‰ ğŸ˜Œ ğŸ˜ ğŸ˜˜ ğŸ˜— ğŸ˜™ ğŸ˜š ğŸ˜‹ ğŸ˜œ ğŸ˜ ğŸ˜› ğŸ¤‘ ğŸ¤— ğŸ¤“ ğŸ˜ ğŸ˜ ğŸ˜’ ğŸ˜ ğŸ˜” ğŸ˜Ÿ ğŸ˜• ğŸ™ ğŸ˜£ ğŸ˜– ğŸ˜« ğŸ˜© ğŸ˜¤ ğŸ˜  ğŸ˜¡ ğŸ˜¶ ğŸ˜ ğŸ˜‘ ğŸ˜¯ ğŸ˜¦ ğŸ˜§ ğŸ˜® ğŸ˜² ğŸ˜µ ğŸ˜³ ğŸ˜± ğŸ˜¨ ğŸ˜° ğŸ˜¢ ğŸ˜¥ ğŸ˜­ ğŸ˜“ ğŸ˜ª ğŸ˜´ ğŸ™„ ğŸ¤” ğŸ˜¬ ğŸ¤ ğŸ˜· ğŸ¤’ ğŸ¤• ğŸ˜ˆ ğŸ‘¿ ğŸ‘¹ ğŸ‘º ğŸ’© ğŸ‘» ğŸ’€ â˜ ï¸ ğŸ‘½ ğŸ‘¾ ğŸ¤– ğŸƒ ğŸ˜º ğŸ˜¸ ğŸ˜¹ ğŸ˜» ğŸ˜¼ ğŸ˜½ ğŸ™€ ğŸ˜¿ ğŸ˜¾ ğŸ‘ ğŸ™Œ ğŸ‘ ğŸ™ ğŸ‘ ğŸ‘ ğŸ‘Š âœŠ ğŸ¤˜ ğŸ‘Œ ğŸ‘ˆ ğŸ‘‰ ğŸ‘† ğŸ‘‡ âœ‹  ğŸ– ğŸ–– ğŸ‘‹  ğŸ’ª ğŸ–• âœï¸  ğŸ’… ğŸ–– ğŸ’„ ğŸ’‹ ğŸ‘„ ğŸ‘… ğŸ‘‚ ğŸ‘ƒ ğŸ‘ ğŸ‘€ '\n      .split(' ')\n      .filter(v=>v)\n      .map(v=>({text:v}))\n    const userid = this.props.match.params.user\n    const Item  = List.Item\n    const users = this.props.chat.users\n\n    if (!users[userid]) return null\n    const chatid = getChatId(userid, this.props.user._id)\n    const chatmsgs = this.props.chat.chatmsg.filter(v =>  v.chatid == chatid)\n\n    return (\n      <div id='chat-page'>\n        <NavBar mode='dark'\n                icon={<Icon type=\"left\"\n                onLeftClick = {() => {this.props.history.goBack()}}></Icon>}>\n          {users[userid].name}\n        </NavBar>\n        <QueueAnim delay={50}>\n          {chatmsgs.map(v => {\n            const avatar = require(`../../statics/${users[v.from].avatar}.png`)\n            return v.from === userid ? (\n              <List key={v._id}>\n                <Item thumb={avatar}>{v.content}</Item>\n              </List>\n            ) : (\n              <list key={v._id}>\n                <Item extra={<img alt='å¤´åƒ' src={avatar} />}\n                      className='chat-me'>\n                  {v.content}\n                </Item>\n              </list>\n            )\n          })}\n        </QueueAnim>\n      </div>\n    )\n  }\n\n}\n\nexport default Chat"]},"metadata":{},"sourceType":"module"}